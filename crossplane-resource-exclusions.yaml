# This file documents the resource exclusions needed for ArgoCD + Crossplane
# Apply this configuration to your argocd-cm ConfigMap

# Complete resource.exclusions configuration for Crossplane
resource.exclusions: |
  # Exclude ProviderConfigUsage resources (high churn, managed by Crossplane)
  - apiGroups:
    - "*"
    kinds:
    - ProviderConfigUsage
    clusters:
    - "*"
  
  # Exclude ProviderRevision resources (managed by package manager)
  - apiGroups:
    - "pkg.crossplane.io"
    kinds:
    - ProviderRevision
    clusters:
    - "*"
  
  # Exclude Lock resources (internal Crossplane state)
  - apiGroups:
    - "pkg.crossplane.io"
    kinds:
    - Lock
    clusters:
    - "*"
    
  # Exclude specific composite resources that are dynamically created
  # These should be generated by Claims, not managed directly by ArgoCD
  - apiGroups:
    - "demo.io"
    kinds:
    - XCloudRunApp
    - XPostgreSQL
    clusters:
    - "*"
    
  # Optional: Exclude connection secrets if using external secret management
  # Uncomment if you're using External Secrets Operator or similar
  # - apiGroups:
  #   - ""
  #   kinds:
  #   - Secret
  #   name: "*-connection"
  #   clusters:
  #   - "*"

# Example usage in argocd-cm ConfigMap:
# kubectl patch configmap argocd-cm -n argocd --patch-file=this-file.yaml